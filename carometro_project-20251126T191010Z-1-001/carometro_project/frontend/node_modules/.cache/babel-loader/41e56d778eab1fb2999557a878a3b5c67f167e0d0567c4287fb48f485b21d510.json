{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport StudentModal from './StudentModal';\nimport { getStudents } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Carometro({\n  token,\n  username\n}) {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Carrega alunos da API\n  useEffect(() => {\n    async function loadStudents() {\n      try {\n        const data = await getStudents(token);\n        setStudents(Array.isArray(data) ? data : []); // garante array\n      } catch (e) {\n        console.error('Erro ao carregar alunos:', e);\n        setStudents([]);\n      }\n    }\n    loadStudents();\n  }, [token]);\n  function openModal(student = null) {\n    setSelectedStudent(student);\n    setShowModal(true);\n  }\n  function closeModal() {\n    setSelectedStudent(null);\n    setShowModal(false);\n    // recarrega alunos após criar/editar\n    async function refresh() {\n      try {\n        const data = await getStudents(token);\n        setStudents(Array.isArray(data) ? data : []);\n      } catch (e) {\n        setStudents([]);\n      }\n    }\n    refresh();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\xC1rea Administrativa - Car\\xF4metro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => openModal(),\n      children: \"Novo Aluno\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: students.length > 0 ? students.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          borderBottom: '1px solid #ddd',\n          padding: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: s.photoPath || '/uploads/default.png',\n          alt: s.name,\n          style: {\n            width: 50,\n            height: 50,\n            borderRadius: '50%',\n            marginRight: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: s.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this), \" - \", s.series, \" (\", s.formation, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openModal(s),\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)]\n      }, s.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Nenhum aluno encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(StudentModal, {\n      student: selectedStudent,\n      token: token,\n      username: username,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Carometro, \"PFzi6538O4hSuLHOZCDaiwIxplg=\");\n_c = Carometro;\nvar _c;\n$RefreshReg$(_c, \"Carometro\");","map":{"version":3,"names":["React","useState","useEffect","StudentModal","getStudents","jsxDEV","_jsxDEV","Carometro","token","username","_s","students","setStudents","selectedStudent","setSelectedStudent","showModal","setShowModal","loadStudents","data","Array","isArray","e","console","error","openModal","student","closeModal","refresh","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","length","map","s","display","alignItems","borderBottom","src","photoPath","alt","name","width","height","borderRadius","marginRight","flex","series","formation","id","onClose","_c","$RefreshReg$"],"sources":["/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport StudentModal from './StudentModal';\nimport { getStudents } from '../services/api';\n\nexport default function Carometro({ token, username }) {\n  const [students, setStudents] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Carrega alunos da API\n  useEffect(() => {\n    async function loadStudents() {\n      try {\n        const data = await getStudents(token);\n        setStudents(Array.isArray(data) ? data : []); // garante array\n      } catch (e) {\n        console.error('Erro ao carregar alunos:', e);\n        setStudents([]);\n      }\n    }\n    loadStudents();\n  }, [token]);\n\n  function openModal(student = null) {\n    setSelectedStudent(student);\n    setShowModal(true);\n  }\n\n  function closeModal() {\n    setSelectedStudent(null);\n    setShowModal(false);\n    // recarrega alunos após criar/editar\n    async function refresh() {\n      try {\n        const data = await getStudents(token);\n        setStudents(Array.isArray(data) ? data : []);\n      } catch (e) {\n        setStudents([]);\n      }\n    }\n    refresh();\n  }\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h2>Área Administrativa - Carômetro</h2>\n      <button onClick={() => openModal()}>Novo Aluno</button>\n\n      <div style={{ marginTop: 20 }}>\n        {students.length > 0 ? (\n          students.map((s) => (\n            <div\n              key={s.id}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                borderBottom: '1px solid #ddd',\n                padding: 10\n              }}\n            >\n              <img\n                src={s.photoPath || '/uploads/default.png'}\n                alt={s.name}\n                style={{ width: 50, height: 50, borderRadius: '50%', marginRight: 10 }}\n              />\n              <div style={{ flex: 1 }}>\n                <div>\n                  <strong>{s.name}</strong> - {s.series} ({s.formation})\n                </div>\n              </div>\n              <button onClick={() => openModal(s)}>Editar</button>\n            </div>\n          ))\n        ) : (\n          <div>Nenhum aluno encontrado.</div>\n        )}\n      </div>\n\n      {showModal && (\n        <StudentModal\n          student={selectedStudent}\n          token={token}\n          username={username}\n          onClose={closeModal}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}