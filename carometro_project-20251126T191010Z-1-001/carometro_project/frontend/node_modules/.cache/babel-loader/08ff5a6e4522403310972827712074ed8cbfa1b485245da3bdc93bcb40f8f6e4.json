{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport StudentModal from './StudentModal';\nimport { fetchStudents, createEvaluation, createStudent, updateStudent, uploadPhoto, last5 } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Carometro({\n  token,\n  username\n}) {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Carrega alunos da API\n  useEffect(() => {\n    async function loadStudents() {\n      try {\n        const data = await fetchStudents(token);\n        setStudents(Array.isArray(data) ? data : []); // garante array\n      } catch (e) {\n        console.error('Erro ao carregar alunos:', e);\n        setStudents([]);\n      }\n    }\n    loadStudents();\n  }, [token]);\n  function openModal(student = null) {\n    setSelectedStudent(student);\n    setShowModal(true);\n  }\n  function closeModal() {\n    setSelectedStudent(null);\n    setShowModal(false);\n    // recarrega alunos após criar/editar\n    async function refresh() {\n      try {\n        const data = await fetchStudents(token);\n        setStudents(Array.isArray(data) ? data : []);\n      } catch (e) {\n        setStudents([]);\n      }\n    }\n    refresh();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 30,\n      fontFamily: 'Arial, sans-serif',\n      background: '#f5f5f5',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center',\n        color: '#333'\n      },\n      children: \"\\xC1rea Administrativa - Car\\xF4metro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        margin: '20px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openModal(),\n        style: {\n          backgroundColor: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          padding: '10px 20px',\n          fontSize: 16,\n          borderRadius: 5,\n          cursor: 'pointer',\n          transition: '0.2s'\n        },\n        onMouseOver: e => e.currentTarget.style.backgroundColor = '#45a049',\n        onMouseOut: e => e.currentTarget.style.backgroundColor = '#4CAF50',\n        children: \"Novo Aluno\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n        gap: 20\n      },\n      children: students.length > 0 ? students.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 10,\n          padding: 15,\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          textAlign: 'center',\n          transition: '0.2s'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: s.photoPath || '/uploads/default.png',\n          alt: s.name,\n          style: {\n            width: 80,\n            height: 80,\n            borderRadius: '50%',\n            marginBottom: 10,\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: s.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 14,\n              color: '#666'\n            },\n            children: [s.series, \" (\", s.formation, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openModal(s),\n          style: {\n            backgroundColor: '#2196F3',\n            color: 'white',\n            border: 'none',\n            padding: '6px 12px',\n            fontSize: 14,\n            borderRadius: 5,\n            cursor: 'pointer',\n            transition: '0.2s'\n          },\n          onMouseOver: e => e.currentTarget.style.backgroundColor = '#1976D2',\n          onMouseOut: e => e.currentTarget.style.backgroundColor = '#2196F3',\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, s.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          gridColumn: '1 / -1',\n          textAlign: 'center',\n          color: '#999',\n          fontSize: 16\n        },\n        children: \"Nenhum aluno encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(StudentModal, {\n      student: selectedStudent,\n      token: token,\n      username: username,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Carometro, \"PFzi6538O4hSuLHOZCDaiwIxplg=\");\n_c = Carometro;\nvar _c;\n$RefreshReg$(_c, \"Carometro\");","map":{"version":3,"names":["React","useState","useEffect","StudentModal","fetchStudents","createEvaluation","createStudent","updateStudent","uploadPhoto","last5","jsxDEV","_jsxDEV","Carometro","token","username","_s","students","setStudents","selectedStudent","setSelectedStudent","showModal","setShowModal","loadStudents","data","Array","isArray","e","console","error","openModal","student","closeModal","refresh","style","padding","fontFamily","background","minHeight","children","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","margin","onClick","backgroundColor","border","fontSize","borderRadius","cursor","transition","onMouseOver","currentTarget","onMouseOut","gridTemplateColumns","gap","length","map","s","boxShadow","flexDirection","alignItems","src","photoPath","alt","name","width","height","marginBottom","objectFit","series","formation","id","gridColumn","onClose","_c","$RefreshReg$"],"sources":["/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport StudentModal from './StudentModal';\nimport { fetchStudents, createEvaluation, createStudent, updateStudent, uploadPhoto, last5 } from '../services/api';\n\nexport default function Carometro({ token, username }) {\n  const [students, setStudents] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Carrega alunos da API\n  useEffect(() => {\n    async function loadStudents() {\n      try {\n        const data = await fetchStudents(token);\n        setStudents(Array.isArray(data) ? data : []); // garante array\n      } catch (e) {\n        console.error('Erro ao carregar alunos:', e);\n        setStudents([]);\n      }\n    }\n    loadStudents();\n  }, [token]);\n\n  function openModal(student = null) {\n    setSelectedStudent(student);\n    setShowModal(true);\n  }\n\n  function closeModal() {\n    setSelectedStudent(null);\n    setShowModal(false);\n    // recarrega alunos após criar/editar\n    async function refresh() {\n      try {\n        const data = await fetchStudents(token);\n        setStudents(Array.isArray(data) ? data : []);\n      } catch (e) {\n        setStudents([]);\n      }\n    }\n    refresh();\n  }\n\n  return (\n    <div style={{ padding: 30, fontFamily: 'Arial, sans-serif', background: '#f5f5f5', minHeight: '100vh' }}>\n      <h1 style={{ textAlign: 'center', color: '#333' }}>Área Administrativa - Carômetro</h1>\n      <div style={{ display: 'flex', justifyContent: 'center', margin: '20px 0' }}>\n        <button\n          onClick={() => openModal()}\n          style={{\n            backgroundColor: '#4CAF50',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            fontSize: 16,\n            borderRadius: 5,\n            cursor: 'pointer',\n            transition: '0.2s',\n          }}\n          onMouseOver={e => e.currentTarget.style.backgroundColor = '#45a049'}\n          onMouseOut={e => e.currentTarget.style.backgroundColor = '#4CAF50'}\n        >\n          Novo Aluno\n        </button>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))', gap: 20 }}>\n        {students.length > 0 ? (\n          students.map((s) => (\n            <div\n              key={s.id}\n              style={{\n                background: '#fff',\n                borderRadius: 10,\n                padding: 15,\n                boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                textAlign: 'center',\n                transition: '0.2s',\n              }}\n            >\n              <img\n                src={s.photoPath || '/uploads/default.png'}\n                alt={s.name}\n                style={{ width: 80, height: 80, borderRadius: '50%', marginBottom: 10, objectFit: 'cover' }}\n              />\n              <div style={{ marginBottom: 10 }}>\n                <strong>{s.name}</strong>\n                <div style={{ fontSize: 14, color: '#666' }}>\n                  {s.series} ({s.formation})\n                </div>\n              </div>\n              <button\n                onClick={() => openModal(s)}\n                style={{\n                  backgroundColor: '#2196F3',\n                  color: 'white',\n                  border: 'none',\n                  padding: '6px 12px',\n                  fontSize: 14,\n                  borderRadius: 5,\n                  cursor: 'pointer',\n                  transition: '0.2s',\n                }}\n                onMouseOver={e => e.currentTarget.style.backgroundColor = '#1976D2'}\n                onMouseOut={e => e.currentTarget.style.backgroundColor = '#2196F3'}\n              >\n                Editar\n              </button>\n            </div>\n          ))\n        ) : (\n          <div style={{ gridColumn: '1 / -1', textAlign: 'center', color: '#999', fontSize: 16 }}>\n            Nenhum aluno encontrado.\n          </div>\n        )}\n      </div>\n\n      {showModal && (\n        <StudentModal\n          student={selectedStudent}\n          token={token}\n          username={username}\n          onClose={closeModal}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}