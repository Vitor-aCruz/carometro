{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchStudents } from '../services/api';\nimport StudentModal from './StudentModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentCard({\n  s,\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    onClick: onClick,\n    style: {\n      cursor: 'pointer'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: s.photoPath || '/default.png',\n      alt: s.name,\n      style: {\n        width: 80,\n        height: 80,\n        objectFit: 'cover'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: s.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [s.series, \" - \", s.formation]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = StudentCard;\nexport default function Carometro({\n  token,\n  username\n}) {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [filters, setFilters] = useState({\n    formation: '',\n    series: ''\n  });\n  const [selected, setSelected] = useState(null);\n  useEffect(() => {\n    load();\n  }, [filters]);\n  async function load() {\n    try {\n      const s = await fetchStudents(filters, token);\n      setStudents(s);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filters.formation,\n        onChange: e => setFilters({\n          ...filters,\n          formation: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"FUND1\",\n          children: \"Fundamental 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"FUND2\",\n          children: \"Fundamental 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MEDIO\",\n          children: \"Ensino M\\xE9dio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"S\\xE9rie (ex: 1\\xBA, 6\\xBA, 3\\xBA EM)\",\n        value: filters.series,\n        onChange: e => setFilters({\n          ...filters,\n          series: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setFilters({\n            formation: '',\n            series: ''\n          });\n        },\n        children: \"Limpar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelected({}),\n        children: \"Novo aluno\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(180px,1fr))',\n        gap: 12\n      },\n      children: students.map(s => /*#__PURE__*/_jsxDEV(StudentCard, {\n        s: s,\n        onClick: () => setSelected(s)\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 27\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(StudentModal, {\n      student: selected,\n      token: token,\n      username: username,\n      onClose: () => {\n        setSelected(null);\n        load();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Carometro, \"uM7WzsGO5NRyi+IeCHmv1Z7DPns=\");\n_c2 = Carometro;\nvar _c, _c2;\n$RefreshReg$(_c, \"StudentCard\");\n$RefreshReg$(_c2, \"Carometro\");","map":{"version":3,"names":["React","useEffect","useState","fetchStudents","StudentModal","jsxDEV","_jsxDEV","StudentCard","s","onClick","className","style","cursor","children","src","photoPath","alt","name","width","height","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","series","formation","_c","Carometro","token","username","_s","students","setStudents","filters","setFilters","selected","setSelected","load","e","console","error","display","gap","marginBottom","value","onChange","target","placeholder","gridTemplateColumns","map","id","student","onClose","_c2","$RefreshReg$"],"sources":["/home/rafael/Downloads/carometro_project-20251126T191010Z-1-001/carometro_project/frontend/src/components/Carometro.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {fetchStudents} from '../services/api';\nimport StudentModal from './StudentModal';\n\nfunction StudentCard({s, onClick}){\n  return (\n    <div className='card' onClick={onClick} style={{cursor:'pointer'}}>\n      <img src={s.photoPath||'/default.png'} alt={s.name} style={{width:80,height:80,objectFit:'cover'}} />\n      <div><strong>{s.name}</strong></div>\n      <div>{s.series} - {s.formation}</div>\n    </div>\n  );\n}\n\nexport default function Carometro({token, username}){\n  const [students,setStudents]=useState([]);\n  const [filters,setFilters]=useState({formation:'', series:''});\n  const [selected,setSelected]=useState(null);\n  useEffect(()=>{load();},[filters]);\n  async function load(){\n    try{\n      const s = await fetchStudents(filters, token);\n      setStudents(s);\n    }catch(e){ console.error(e); }\n  }\n  return (\n    <div>\n      <div style={{display:'flex',gap:8,marginBottom:12}}>\n        <select value={filters.formation} onChange={e=>setFilters({...filters, formation:e.target.value})}>\n          <option value=''>Todos</option>\n          <option value='FUND1'>Fundamental 1</option>\n          <option value='FUND2'>Fundamental 2</option>\n          <option value='MEDIO'>Ensino Médio</option>\n        </select>\n        <input placeholder='Série (ex: 1º, 6º, 3º EM)' value={filters.series} onChange={e=>setFilters({...filters, series:e.target.value})}/>\n        <button onClick={()=>{setFilters({formation:'',series:''});}}>Limpar</button>\n        <button onClick={()=>setSelected({})}>Novo aluno</button>\n      </div>\n\n      <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(180px,1fr))',gap:12}}>\n        {students.map(s=> <StudentCard key={s.id} s={s} onClick={()=>setSelected(s)} />)}\n      </div>\n\n      {selected && <StudentModal student={selected} token={token} username={username} onClose={()=>{setSelected(null); load();}} />}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}